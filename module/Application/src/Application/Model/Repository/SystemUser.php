<?php
	namespace Application\Model\Repository;

	use 
		Application\Utility\Cache,
		DoctrineModule\Authentication\Adapter\ObjectRepository,
		Doctrine\ORM\EntityRepository;

	/**
	 * SystemUser
	 *
	 * This class was generated by the Doctrine ORM. Add your own custom
	 * repository methods below.
	 */
	final class SystemUser extends EntityRepository
	{
		public function findById($id)
		{
			$query =
				$this->
					_em->
						createQueryBuilder()->
							select('u')->
							from('Application\Model\Entity\SystemUser', 'u')->
							where('u.id = :id')->
							setParameter(':id', $id)->
							getQuery();
			
			$query->useResultCache(
				true, Cache::DEFAULT_LIFE_TIME, 'systemuser_' . $id
			);
			
			return $query->getSingleResult();
		}
	}